// ==UserScript==
// @name         AdBlock for VK
// @namespace    https://dev1lroot.pythnoanywhere.com/
// @version      1.0
// @description  Никаких займерботов
// @author       Dev1lroot
// @grant        https://vk.com/*
// @require      http://code.jquery.com/jquery-3.4.1.min.js
// ==/UserScript==

(function()
{
  function startAnalysis(ads)
  {
    console.log("фиксация ивента прокрутки");
    document.addEventListener("scroll", function(event){ //Жукавери листенер не везде работает поэтому ванильный
      console.log("вы листаете, мы сканируем");
      $("._post_content").each(function(index){
        for(var bullshit of ads)
        {
        	if($(this).html().includes(bullshit))
          {
          	 console.log("говно обнаружено");
             $(this).find(".wall_text").html(`<h1 style="color:red;">Обнаружено говно!</h1>`);
          }
      	}
      });
    });
  }
  $(document).ready(function(){
    console.log("скрипт запущен");
    var ads = ["займи","купи","занять","источнике","заказ","закажи","Бот ПРОБИВЩИК"]; //Сюда пишем популярные триггеры
    startAnalysis(ads);
  })
})();
